"use strict";(self.webpackChunkcinema_quiz=self.webpackChunkcinema_quiz||[]).push([[529],{8159:(e,s,t)=>{t.d(s,{Z:()=>a});const a={pagination:"M8tNjMLd",questions:"YZvc4N6n"};var l=t(4783)(e.id,{locals:!0});e.hot.dispose(l)},4361:(e,s,t)=>{t.d(s,{Z:()=>a});const a={wrapper:"zBHqqKYA",custom_checkbox:"N3yvwmi4",variants:"CpUaMDyW",variantLabel_disabled:"I8SiArxK",colorGreen:"h5_Dt13C",colorRed:"BvLV7xKF"};var l=t(4783)(e.id,{locals:!0});e.hot.dispose(l)},5225:(e,s,t)=>{t.d(s,{Z:()=>a});const a={quizWrapper:"LfWyLYiF",buttons:"b6Qnxfd2",modalContent:"TlVvNHgi"};var l=t(4783)(e.id,{locals:!0});e.hot.dispose(l)},6529:(e,s,t)=>{t.r(s),t.d(s,{default:()=>M});var a=t(5893),l=t(5225),n=t(7421),r=t(4361),i=t(4184),o=t.n(i),c=t(7294);var d=t(4927),u=t(9234),m=t(994),h=t(8764),x=t(3106);const{Title:p,Text:j}=u.default,v=(0,c.memo)((({question:e,isDisable:s,id:t})=>{const l=(0,n.T)(),{title:i,variants:u,correctAnswer:v}=e,{value:C,onChange:f}=(e=>{const[s,t]=(0,c.useState)(e);return{value:s,onChange:e=>{t(e.target.value)}}})(null),Z=(0,n.C)(x.kH),b=(0,c.useCallback)((e=>{e!==C&&l((0,d.vm)({[t]:[e]}))}),[C]);return(0,a.jsx)(m.Z,{title:(0,a.jsx)(p,{style:{whiteSpace:"pre-wrap"},level:3,children:i}),className:r.Z.wrapper,children:(0,a.jsx)("ul",{className:r.Z.variants,children:u.map(((e,l)=>{const n=l+1;return(0,a.jsx)("li",{className:r.Z.variant,children:(0,a.jsx)(h.Z,{onClick:()=>{b(n)},value:n,disabled:s,onChange:f,checked:n===(Z[t]&&Z[t][0]),children:(0,a.jsx)(j,{className:o()({[r.Z.colorGreen]:s&&n===v},{[r.Z.colorRed]:s&&n!==v}),children:e})})},l)}))})})}));var C=t(8159),f=t(5493);const Z=(0,c.memo)((({getQuizScore:e})=>{const s=(0,n.T)(),[t,l]=(0,c.useState)(1),r=(0,n.C)(x.kH),{data:i,totalQuestions:o}=(0,n.C)(x.y2),u=(0,n.C)(x.rt),[m,h]=(0,c.useState)(0),p=m+5,j=o/5>1;return(0,c.useEffect)((()=>{window.scrollTo({top:0})}),[m]),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("form",{className:C.Z.questions,onSubmit:t=>{t.preventDefault(),e(r,i),s((0,d.dG)())},id:"quiz-form",children:i.slice(m,p).map((e=>(0,a.jsx)(v,{question:e,isDisable:u,id:e.id},e.id)))}),j&&(0,a.jsx)(f.Z,{total:o,pageSize:5,current:t,onChange:e=>(e=>{l(e),h(1===e?0:5*(e-1))})(e),className:C.Z.pagination})]})})),b=c.memo(Z);var g=t(2504);const{Title:w}=u.default,y=()=>{const e=(0,n.C)(x.Ee),{totalQuestions:s}=(0,n.C)(x.y2),t=e/s*5;if((0,n.C)(x.rt))return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(w,{level:3,children:["Ваш результат ",e," из ",s]}),(0,a.jsx)(g.Z,{disabled:!0,allowHalf:!0,defaultValue:t})]})};var k=t(1577),N=t(2478),q=t(4324),z=t(9250),S=t(9655),T=t(3553),Q=t(4524);const{Countdown:F}=Q.default,H=c.memo((({setIsModalOpen:e,getQuizScore:s})=>{const t=(0,n.C)(x.rt),l=(0,n.C)(x.kH),r=(0,n.C)(x.st),i=(0,n.T)(),o=(0,c.useMemo)((()=>t?0:Date.now()+T.PG),[t]);return(0,c.useEffect)((()=>{s(l,r)}),[t]),(0,a.jsx)(F,{title:"Осталось времени",value:o,onFinish:()=>{i((0,d.dG)()),e(!0)}})})),{Title:D}=u.default,M=c.memo((()=>{const e=(0,n.C)(x.rt),{loading:s,totalQuestions:t}=(0,n.C)(x.y2),[r,i]=(0,c.useState)(!1),o=(0,z.TH)(),u=(0,n.T)(),m=(e,s)=>{let t=0;s.forEach((s=>{e[s.id]&&s.correctAnswer===e[s.id][0]&&t++})),u((0,d.F_)(t))};return(0,c.useEffect)((()=>{u((0,d.Ub)())}),[o]),(0,a.jsxs)(a.Fragment,{children:[s?(0,a.jsx)(q.Z,{}):(0,a.jsxs)("div",{className:l.Z.quizWrapper,children:[(0,a.jsx)(D,{level:2,children:"Викторина"}),(0,a.jsxs)(D,{level:4,children:["Всего ",t," вопросов"]}),(0,a.jsx)(H,{setIsModalOpen:i,getQuizScore:m}),(0,a.jsx)(b,{getQuizScore:m}),(0,a.jsx)(y,{}),(0,a.jsxs)("div",{className:l.Z.buttons,children:[(0,a.jsx)(k.ZP,{disabled:e,form:"quiz-form",type:"primary",htmlType:"submit",block:!1,children:"Узнать результат"}),(0,a.jsx)(S.rU,{to:T.$x,children:(0,a.jsx)(k.ZP,{type:"primary",children:"Начать сначала"})})]})]}),(0,a.jsx)(N.Z,{open:r,onOk:()=>{i(!1)},onCancel:()=>{i(!1)},footer:null,children:(0,a.jsxs)("div",{className:l.Z.modalContent,children:[(0,a.jsx)(D,{level:2,children:"Время вышло"}),(0,a.jsx)(y,{}),(0,a.jsx)(S.rU,{to:T.$x,children:(0,a.jsx)(k.ZP,{type:"primary",children:"Начать сначала"})})]})})]})}))}}]);